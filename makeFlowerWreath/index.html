<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta content="yes" name="apple-mobile-web-app-capable" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, user-scalable=0;"
        />
        <title>테스트페이지</title>
        <link
            rel="stylesheet"
            href="//code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css"
        />
        <script src="https://unpkg.com/interactjs/dist/interact.min.js"></script>
        <script
            type="text/javascript"
            src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"
        ></script>
        <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
        <link rel="stylesheet" href="./css/style.css" />
        <script type="text/javascript">
            // <![CDATA[
            var colour = "random"; // in addition to "random" can be set to any valid colour eg "#f0f" or "red"
            var sparkles = 50;

            /****************************
             *  Tinkerbell Magic Sparkle *
             *(c)2005-13 mf2fm web-design*
             *  http://www.mf2fm.com/rv  *
             * DON'T EDIT BELOW THIS BOX *
             ****************************/
            var x = (ox = 400);
            var y = (oy = 300);
            var swide = 800;
            var shigh = 600;
            var sleft = (sdown = 0);
            var tiny = new Array();
            var star = new Array();
            var starv = new Array();
            var starx = new Array();
            var stary = new Array();
            var tinyx = new Array();
            var tinyy = new Array();
            var tinyv = new Array();

            window.onload = function () {
                if (document.getElementById) {
                    var i, rats, rlef, rdow;
                    for (var i = 0; i < sparkles; i++) {
                        var rats = createDiv(3, 3);
                        rats.style.visibility = "hidden";
                        rats.style.zIndex = "999";
                        document.body.appendChild((tiny[i] = rats));
                        starv[i] = 0;
                        tinyv[i] = 0;
                        var rats = createDiv(5, 5);
                        rats.style.backgroundColor = "transparent";
                        rats.style.visibility = "hidden";
                        rats.style.zIndex = "999";
                        var rlef = createDiv(1, 5);
                        var rdow = createDiv(5, 1);
                        rats.appendChild(rlef);
                        rats.appendChild(rdow);
                        rlef.style.top = "2px";
                        rlef.style.left = "0px";
                        rdow.style.top = "0px";
                        rdow.style.left = "2px";
                        document.body.appendChild((star[i] = rats));
                    }
                    set_width();
                    sparkle();
                }
            };

            function sparkle() {
                var c;
                if (Math.abs(x - ox) > 1 || Math.abs(y - oy) > 1) {
                    ox = x;
                    oy = y;
                    for (c = 0; c < sparkles; c++)
                        if (!starv[c]) {
                            star[c].style.left = (starx[c] = x) + "px";
                            star[c].style.top = (stary[c] = y + 1) + "px";
                            star[c].style.clip = "rect(0px, 5px, 5px, 0px)";
                            star[c].childNodes[0].style.backgroundColor = star[
                                c
                            ].childNodes[1].style.backgroundColor =
                                colour == "random" ? newColour() : colour;
                            star[c].style.visibility = "visible";
                            starv[c] = 50;
                            break;
                        }
                }
                for (c = 0; c < sparkles; c++) {
                    if (starv[c]) update_star(c);
                    if (tinyv[c]) update_tiny(c);
                }
                setTimeout("sparkle()", 40);
            }

            function update_star(i) {
                if (--starv[i] == 25)
                    star[i].style.clip = "rect(1px, 4px, 4px, 1px)";
                if (starv[i]) {
                    stary[i] += 1 + Math.random() * 3;
                    starx[i] += ((i % 5) - 2) / 5;
                    if (stary[i] < shigh + sdown) {
                        star[i].style.top = stary[i] + "px";
                        star[i].style.left = starx[i] + "px";
                    } else {
                        star[i].style.visibility = "hidden";
                        starv[i] = 0;
                        return;
                    }
                } else {
                    tinyv[i] = 50;
                    tiny[i].style.top = (tinyy[i] = stary[i]) + "px";
                    tiny[i].style.left = (tinyx[i] = starx[i]) + "px";
                    tiny[i].style.width = "2px";
                    tiny[i].style.height = "2px";
                    tiny[i].style.backgroundColor =
                        star[i].childNodes[0].style.backgroundColor;
                    star[i].style.visibility = "hidden";
                    tiny[i].style.visibility = "visible";
                }
            }

            function update_tiny(i) {
                if (--tinyv[i] == 25) {
                    tiny[i].style.width = "1px";
                    tiny[i].style.height = "1px";
                }
                if (tinyv[i]) {
                    tinyy[i] += 1 + Math.random() * 3;
                    tinyx[i] += ((i % 5) - 2) / 5;
                    if (tinyy[i] < shigh + sdown) {
                        tiny[i].style.top = tinyy[i] + "px";
                        tiny[i].style.left = tinyx[i] + "px";
                    } else {
                        tiny[i].style.visibility = "hidden";
                        tinyv[i] = 0;
                        return;
                    }
                } else tiny[i].style.visibility = "hidden";
            }

            document.onmousemove = mouse;
            function mouse(e) {
                if (e) {
                    y = e.pageY;
                    x = e.pageX;
                } else {
                    set_scroll();
                    y = event.y + sdown;
                    x = event.x + sleft;
                }
            }

            window.onscroll = set_scroll;
            function set_scroll() {
                if (typeof self.pageYOffset == "number") {
                    sdown = self.pageYOffset;
                    sleft = self.pageXOffset;
                } else if (
                    document.body &&
                    (document.body.scrollTop || document.body.scrollLeft)
                ) {
                    sdown = document.body.scrollTop;
                    sleft = document.body.scrollLeft;
                } else if (
                    document.documentElement &&
                    (document.documentElement.scrollTop ||
                        document.documentElement.scrollLeft)
                ) {
                    sleft = document.documentElement.scrollLeft;
                    sdown = document.documentElement.scrollTop;
                } else {
                    sdown = 0;
                    sleft = 0;
                }
            }

            window.onresize = set_width;
            function set_width() {
                var sw_min = 999999;
                var sh_min = 999999;
                if (
                    document.documentElement &&
                    document.documentElement.clientWidth
                ) {
                    if (document.documentElement.clientWidth > 0)
                        sw_min = document.documentElement.clientWidth;
                    if (document.documentElement.clientHeight > 0)
                        sh_min = document.documentElement.clientHeight;
                }
                if (typeof self.innerWidth == "number" && self.innerWidth) {
                    if (self.innerWidth > 0 && self.innerWidth < sw_min)
                        sw_min = self.innerWidth;
                    if (self.innerHeight > 0 && self.innerHeight < sh_min)
                        sh_min = self.innerHeight;
                }
                if (document.body.clientWidth) {
                    if (
                        document.body.clientWidth > 0 &&
                        document.body.clientWidth < sw_min
                    )
                        sw_min = document.body.clientWidth;
                    if (
                        document.body.clientHeight > 0 &&
                        document.body.clientHeight < sh_min
                    )
                        sh_min = document.body.clientHeight;
                }
                if (sw_min == 999999 || sh_min == 999999) {
                    sw_min = 800;
                    sh_min = 600;
                }
                swide = sw_min;
                shigh = sh_min;
            }

            function createDiv(height, width) {
                var div = document.createElement("div");
                div.style.position = "absolute";
                div.style.height = height + "px";
                div.style.width = width + "px";
                div.style.overflow = "hidden";
                return div;
            }

            function newColour() {
                var c = new Array();
                c[0] = 255;
                c[1] = Math.floor(Math.random() * 256);
                c[2] = Math.floor(Math.random() * (256 - c[1] / 2));
                c.sort(function () {
                    return 0.5 - Math.random();
                });
                return "rgb(" + c[0] + ", " + c[1] + ", " + c[2] + ")";
            }
            // ]]>
        </script>
        <script></script>
    </head>

    <body>
        <div class="area">
            <div id="notice">
                <div id="exit" onclick="exitNotice()"></div>
            </div>
            <div id="header">
                <div id="site_bgm_box" class="disable">
                    <iframe
                        src="./src/bgm.html"
                        name="bgm_frame"
                        id="bgm_frame"
                        border="0"
                        frameborder="0"
                        marginheight="0"
                        marginwidth="0"
                        topmargin="0"
                        scrolling="no"
                        allowTransparency="true"
                        allow="autoplay; encrypted-media"
                        allowfullscreen
                    ></iframe>
                </div>
                <div id="speaker" class="" onclick="toggleBgm()"></div>
                <div id="submit">
                    <img
                        src="./src/img/button/submit.png"
                        onclick="submitBtn()"
                    />
                </div>
            </div>

            <div id="body">
                <div id="menu">
                    <div id="selectArea" class="disable">
                        <div id="colorPicker">
                            <ul>
                                <li onclick="selectMenu('base')">
                                    <img src="./src/img/button/base.png" />
                                </li>
                                <li onclick="selectMenu('ribbon')">
                                    <img src="./src/img/button/ribbon.png" />
                                </li>
                                <li onclick="selectMenu('leaf')">
                                    <img src="./src/img/button/leaf.png" />
                                </li>
                                <li onclick="selectMenu('black')">
                                    <img src="./src/img/button/black.png" />
                                </li>
                                <li onclick="selectMenu('white')">
                                    <img src="./src/img/button/white.png" />
                                </li>
                                <li onclick="selectMenu('red')">
                                    <img src="./src/img/button/red.png" />
                                </li>
                                <li onclick="selectMenu('pink')">
                                    <img src="./src/img/button/pink.png" />
                                </li>
                                <li onclick="selectMenu('orange')">
                                    <img src="./src/img/button/orange.png" />
                                </li>
                                <li onclick="selectMenu('yellow')">
                                    <img src="./src/img/button/yellow.png" />
                                </li>
                                <li onclick="selectMenu('green')">
                                    <img src="./src/img/button/green.png" />
                                </li>
                                <li onclick="selectMenu('blue')">
                                    <img src="./src/img/button/blue.png" />
                                </li>
                                <li onclick="selectMenu('violet')">
                                    <img src="./src/img/button/violet.png" />
                                </li>
                            </ul>
                        </div>
                        <div id="flowerPicker">
                            <ul id="base" class="disable">
                                <li onclick="changeBaseObj('base_vine')">
                                    <img src="./src/img/base/base_vine.png" />
                                </li>
                                <li onclick="changeBaseObj('base_flower')">
                                    <img src="./src/img/base/base_flower.png" />
                                </li>
                                <li onclick="changeBaseObj('base_branch')">
                                    <img src="./src/img/base/base_branch.png" />
                                </li>
                                <li onclick="changeBaseObj('base_thorn')">
                                    <img src="./src/img/base/base_thorn.png" />
                                </li>
                            </ul>
                            <ul id="ribbon" class="disable"></ul>
                            <ul id="leaf" class="disable">
                                <li>노란 단풍</li>
                                <li>빨간 단풍</li>
                                <li>얇은 잎</li>
                                <li>작은 잎</li>
                                <li>넓은 잎</li>
                            </ul>
                            <ul id="black" class="disable">
                                <li onclick="getFlowerObj('11_1', 'flower')">
                                    <img src="./src/img/button/11_1.png" />
                                </li>
                                <li onclick="getFlowerObj('11_2', 'flower')">
                                    <img src="./src/img/button/11_2.png" />
                                </li>
                            </ul>
                            <ul id="white" class="disable">
                                <li onclick="getFlowerObj('21_1', 'flower')">
                                    <img src="./src/img/button/21_1.png" />
                                </li>
                                <li onclick="getFlowerObj('21_2', 'flower')">
                                    <img src="./src/img/button/21_2.png" />
                                </li>
                            </ul>
                            <ul id="red" class="disable">
                                <li onclick="getFlowerObj('31_1', 'flower')">
                                    <img src="./src/img/button/31_1.png" />
                                </li>
                                <li onclick="getFlowerObj('31_2', 'flower')">
                                    <img src="./src/img/button/31_2.png" />
                                </li>
                            </ul>
                            <ul id="pink" class="disable">
                                <li onclick="getFlowerObj('41_1', 'flower')">
                                    <img src="./src/img/button/41_1.png" />
                                </li>
                                <li onclick="getFlowerObj('41_2', 'flower')">
                                    <img src="./src/img/button/41_2.png" />
                                </li>
                            </ul>
                            <ul id="orange" class="disable">
                                <li onclick="getFlowerObj('51_1', 'flower')">
                                    <img src="./src/img/button/51_1.png" />
                                </li>
                                <li onclick="getFlowerObj('51_2', 'flower')">
                                    <img src="./src/img/button/51_2.png" />
                                </li>
                            </ul>
                            <ul id="yellow" class="disable">
                                <li onclick="getFlowerObj('61_1', 'flower')">
                                    <img src="./src/img/button/61_1.png" />
                                </li>
                                <li onclick="getFlowerObj('61_2', 'flower')">
                                    <img src="./src/img/button/61_2.png" />
                                </li>
                            </ul>
                            <ul id="green" class="disable">
                                <li onclick="getFlowerObj('71_1', 'flower')">
                                    <img src="./src/img/button/71_1.png" />
                                </li>
                                <li onclick="getFlowerObj('71_2', 'flower')">
                                    <img src="./src/img/button/71_2.png" />
                                </li>
                            </ul>
                            <ul id="blue" class="disable">
                                <li onclick="getFlowerObj('81_1', 'flower')">
                                    <img src="./src/img/button/81_1.png" />
                                </li>
                                <li onclick="getFlowerObj('81_2', 'flower')">
                                    <img src="./src/img/button/81_2.png" />
                                </li>
                            </ul>
                            <ul id="violet" class="disable">
                                <li onclick="getFlowerObj('91_1', 'flower')">
                                    <img src="./src/img/button/91_1.png" />
                                </li>
                                <li onclick="getFlowerObj('91_2', 'flower')">
                                    <img src="./src/img/button/91_2.png" />
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div id="popBtn" class="pointer" onclick="toggleMenu()">
                        <img
                            class="pointer"
                            src="./src/img/button/flower.png"
                        />
                    </div>
                </div>
                <div id="main">
                    <div id="areaBorder"></div>
                    <div id="printSection">
                        <div id="basicFrame" class="base_flower"></div>
                        <div id="customArea"></div>
                    </div>
                </div>
                <div id="footer">
                    <div id="reset">
                        <img
                            src="./src/img/button/reset.png"
                            onclick="resetBtn()"
                        />
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript" src="./src/index.js"></script>
        <script type="text/javascript" src="./src/FileSaver.js"></script>
    </body>
</html>
